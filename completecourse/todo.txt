// TODO: when scrolling, expand TOC for current section, if hidden
// TODO: setSearchIndex is being called before TOCTree is initialized
// TODO: designate start page for ePub? [hand edit?]
// TODO: highlight search term on page, with next/prev button in search box
// TODO: short sub-sections don't get marked complete
// TODO: (BUG) new Habitat projects open to video page at first (?)
// TODO: when scrolling through content, check off sections that might not have triggered the usual "completed" scrolling trigger (ie, check for sequential completions)
// TODO: tighten up TOC look and feel (maybe: a's without tree-toggler don't have to be padded so far to the right)
// TODO: replace the timeout in iframe-holder's height checking with imagesLoaded, etc
// TODO: the Unleashed CSS causes an ugly scrolling jump when a new iframe section is loaded via infinite scrolling

////////////////////////////////////////////////////////////////////////////

// DONE: get sample course to load and work correctly on InformIT the same way the test page does
// DONE: make the same code work locally and on InformIT
// DONE: multiple test courses in subfolders under "completecourse"?
// DONE: expand/collapse button is no longer working
// DONE: tag new content and process via converter (.rr-updated and .rr-update)
// DONE: shouldn't images be zoomable?
// DONE: better tracking of the TOC via headers
// DONE: check to see Habitat output headers can be tracked in the TOC for scrolling purposes
// DONE: add a "previous section" button/header
// DONE: make the previous button return the first section with the new src (as opposed to the last section with that new src)
// DONE: re-implement TOC searching
// TODONT: Habitat external resource upload (or just link) capability [link to S3]
// TODONT: test server options? (completecourse folder?) [completecourse]
// DONE: implement content searching (using pre-created index, ala HCW, using lunr)
// DONE: finish searching and refactor the loading of the index file (as .json, preferably?) [left it as .js for simplicity]
// DONE: when switching to new sections via an anchor, it doesn't actually take you to the anchor [line was commented out?!]
// DONE: handle not finding a search_index.js
// DONE: instead of using metadata, build a new flattened metadata with short "depth" labels, etc.
// DONE: put searching back in for videos [titles without search index]
// DONE: fall-back to other video formats (or does VideoJS do this automatically?)
// DONE: for videos, don't mark complete when switching (it does that now for text content, for lack of "scroll checking")
// DONE: (video) open with a title screen
// DONE: "short" labels for Habitat content look wrong now (see: Unleashed; video conversion artifact?)
// DONE: put chapter identifier in search result
// DONE: refactor TOC to add container for both regular TOC and search results?
// DONE: only mark child objects "started" (so parents don't mark their children)
// DONE: don't scroll search results (if they're visible)
// DONE: responsive: show/hide full-screen
// DONE: when xs and toc is clicked, hide toc
// DONE: responsive: do something with search and account buttons and hide project text
// DONE: Safari browser compatibility (video poster centering) [-wekbit prefix]
// DONE: collapse all button not working
// DONE: full-text searching: close search, # of hits
// DONE: start with table of contents collapsed
// DONE: load and display from CodeMantra (?) ePub
// DONE: test CodeMantra epub on S3 [check] and then InformIT [OEBPS needs to be lowercase]
// DONE: toc clicks and link clicks add to browser history [maybe not link clicks]
// DONE: jumping to a link from within a CodeMantra ePub works but then scrolls to the top of the new page
// DONE: for ePubs, make sure it can track sections [h4 too]
// DONE: make identification of current section visually nicer-looking
// DONE: change history during scrolling of sections
// DONE: finish styling full-text search UI (re-do search, prev/next hit)
// DONE: store localStorage data separately for each title (because localStorage is shared by domain)